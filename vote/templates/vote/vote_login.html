{% extends 'vote/base.html' %}

{% block title %}ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ØªØµÙˆÙŠØª{% endblock %}

{% block content %}
<div class="vote-section">
    <h2 class="vote-title">ğŸ—³ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØªØµÙˆÙŠØª</h2>

    {% if messages %}
        {% for message in messages %}
            <p class="vote-msg" style="color: {% if message.tags == 'error' %}red{% else %}green{% endif %}; text-align: center;">
                {{ message }}
            </p>
        {% endfor %}
    {% endif %}

    {% if error %}
        <p class="vote-error" style="color: red; text-align: center;">{{ error }}</p>
    {% endif %}

    <form action="{% url 'vote_access' %}" method="post" class="vote-form">
        {% csrf_token %}
        <div class="form-group">
            <label for="member_id">Ø±Ù‚Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©:</label>
            <input type="text" id="member_id" name="member_id" required placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø¹Ø¶ÙˆÙŠØªÙƒ" value="{{ request.POST.member_id }}">
        </div>

        <div class="form-group" style="position: relative;">
            <label for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
            <input type="password" id="password" name="password" required placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" style="padding-right: 40px;">
            <span onclick="togglePassword()" style="position: absolute; top: 37px; right: 10px; cursor: pointer; color: #555;">ğŸ‘ï¸</span>
        </div>

        <button type="submit" class="vote-btn">Ø¯Ø®ÙˆÙ„</button>
    </form>
</div>

<script>
    function togglePassword() {
        const passwordField = document.getElementById("password");
        if (passwordField.type === "password") {
            passwordField.type = "text";
        } else {
            passwordField.type = "password";
        }
    }
</script>
{% endblock %}
